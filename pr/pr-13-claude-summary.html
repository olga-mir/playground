<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infrastructure Modernization: From Imperative to Declarative</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: linear-gradient(135deg, #12385b 0%, #29125b 100%);
            color: #333;
            line-height: 1.6;
        }
        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 20px;
        }
        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        .transformation-flow {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .flow-section {
            display: flex;
            align-items: center;
            margin-bottom: 40px;
            gap: 30px;
        }
        .flow-section:last-child { margin-bottom: 0; }
        .arrow {
            font-size: 3em;
            color: #667eea;
            flex-shrink: 0;
        }
        .before, .after {
            flex: 1;
            padding: 20px;
            border-radius: 10px;
            position: relative;
        }
        .before {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            border-left: 5px solid #e74c3c;
        }
        .after {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            border-left: 5px solid #27ae60;
        }
        .label {
            font-weight: bold;
            text-transform: uppercase;
            font-size: 0.9em;
            margin-bottom: 10px;
            letter-spacing: 1px;
        }
        .before .label { color: #c0392b; }
        .after .label { color: #229954; }
        .technology-stack {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .tech-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        .tech-card h4 {
            margin-bottom: 10px;
            font-size: 1.2em;
        }
        .benefits {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .benefit-item {
            padding: 20px;
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-radius: 10px;
            border-left: 5px solid #f39c12;
        }
        .benefit-item h4 {
            color: #d68910;
            margin-bottom: 10px;
        }
        h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.8em;
            text-align: center;
        }
        .code-snippet {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            margin: 10px 0;
            overflow-x: auto;
        }
        .highlight {
            background: #f1c40f;
            color: #2c3e50;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: bold;
        }
        .architecture-diagram {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }
        .cluster {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            margin: 10px;
            border-radius: 10px;
            min-width: 200px;
        }
        .cluster.local { background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); color: #2c3e50; }
        .arrow-down {
            font-size: 2em;
            color: #667eea;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ Infrastructure Modernization Journey</h1>
            <p>From Imperative Scripts to Declarative GitOps with Crossplane</p>
        </div>

        <div class="architecture-diagram">
            <h2>üèóÔ∏è Multi-Cluster Architecture</h2>
            <div class="cluster local">
                <h3>üè† Kind Cluster (Local)</h3>
                <p>Crossplane Control Plane</p>
                <p>Infrastructure Orchestration Hub</p>
            </div>
            <div class="arrow-down">‚¨áÔ∏è</div>
            <div>
                <div class="cluster">
                    <h3>üõ†Ô∏è GKE Management Cluster</h3>
                    <p>ArgoCD + Crossplane v2</p>
                    <p>GitOps Control Center</p>
                </div>
                <div class="cluster">
                    <h3>üì± GKE Apps-Dev Cluster</h3>
                    <p>ArgoCD Agent</p>
                    <p>Application Workloads</p>
                </div>
            </div>
        </div>

        <div class="transformation-flow">
            <h2>üîÑ Transformation Journey</h2>
            
            <div class="flow-section">
                <div class="before">
                    <div class="label">Before: Imperative Approach</div>
                    <h3>‚ùå Manual Infrastructure Management</h3>
                    <ul>
                        <li>Bash scripts for cluster creation</li>
                        <li>Manual ArgoCD installation & configuration</li>
                        <li>Imperative kubectl commands</li>
                        <li>Script-based cluster connections</li>
                    </ul>
                    <div class="code-snippet">
# Manual cluster setup
gcloud container clusters create...
kubectl apply -f argocd-install.yaml
configure_argocd_cluster_connection()
                    </div>
                </div>
                
                <div class="arrow">‚û°Ô∏è</div>
                
                <div class="after">
                    <div class="label">After: Declarative Approach</div>
                    <h3>‚úÖ GitOps-Driven Infrastructure</h3>
                    <ul>
                        <li>Crossplane Compositions for infrastructure</li>
                        <li>Helm-based ArgoCD deployment</li>
                        <li>Declarative YAML configurations</li>
                        <li>Automatic cluster orchestration</li>
                    </ul>
                    <div class="code-snippet">
# Declarative cluster claims
apiVersion: platform.tornado-demo.io/v1alpha1
kind: GKECluster
                    </div>
                </div>
            </div>

            <div class="flow-section">
                <div class="before">
                    <div class="label">Problems Solved</div>
                    <h3>üêõ Key Issues Addressed</h3>
                    <ul>
                        <li><span class="highlight">Claims never ready</span> - Fixed readiness propagation</li>
                        <li><span class="highlight">system:anonymous errors</span> - Added GCP authentication</li>
                        <li><span class="highlight">Script persistence after Ctrl+C</span> - Removed background processes</li>
                        <li><span class="highlight">Helm chart failures</span> - Fixed repository URLs and timeouts</li>
                    </ul>
                </div>
                
                <div class="arrow">‚û°Ô∏è</div>
                
                <div class="after">
                    <div class="label">Solutions Implemented</div>
                    <h3>üîß Technical Fixes</h3>
                    <ul>
                        <li>Function auto-ready for resource status</li>
                        <li>GoogleApplicationCredentials for Helm provider</li>
                        <li>Sequential execution with proper error handling</li>
                        <li>Preview repository with wait/timeout configs</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="technology-stack">
            <h2>üõ†Ô∏è Technology Stack</h2>
            <div class="tech-grid">
                <div class="tech-card">
                    <h4>Crossplane v2.0</h4>
                    <p>Universal Control Plane</p>
                    <p>Infrastructure as Code</p>
                </div>
                <div class="tech-card">
                    <h4>ArgoCD v3.1.0</h4>
                    <p>GitOps Continuous Delivery</p>
                    <p>Multi-cluster Management</p>
                </div>
                <div class="tech-card">
                    <h4>Helm Provider</h4>
                    <p>Chart Deployment</p>
                    <p>Remote Cluster Access</p>
                </div>
                <div class="tech-card">
                    <h4>GKE Clusters</h4>
                    <p>Managed Kubernetes</p>
                    <p>Google Cloud Platform</p>
                </div>
                <div class="tech-card">
                    <h4>Function Auto-Ready</h4>
                    <p>Resource Readiness</p>
                    <p>Status Propagation</p>
                </div>
                <div class="tech-card">
                    <h4>Go Templating</h4>
                    <p>Dynamic Configuration</p>
                    <p>Composition Logic</p>
                </div>
            </div>
        </div>

        <div class="benefits">
            <h2>üéØ Key Benefits Achieved</h2>
            <div class="benefits-grid">
                <div class="benefit-item">
                    <h4>üéÆ Declarative Infrastructure</h4>
                    <p>Infrastructure defined as code with Crossplane compositions, enabling version control and repeatability</p>
                </div>
                <div class="benefit-item">
                    <h4>üîÑ GitOps Workflows</h4>
                    <p>ArgoCD automatically deploys and manages applications across multiple clusters from Git repositories</p>
                </div>
                <div class="benefit-item">
                    <h4>üèóÔ∏è Multi-Cluster Orchestration</h4>
                    <p>Centralized control plane managing multiple GKE clusters with different roles and configurations</p>
                </div>
                <div class="benefit-item">
                    <h4>üîí Secure Authentication</h4>
                    <p>Proper GCP service account authentication for Helm provider and cluster access</p>
                </div>
                <div class="benefit-item">
                    <h4>‚ö° Automated Deployment</h4>
                    <p>Helm charts deployed automatically to remote clusters with proper dependency management</p>
                </div>
                <div class="benefit-item">
                    <h4>üîç Improved Observability</h4>
                    <p>Clear resource status propagation and readiness indicators across the infrastructure stack</p>
                </div>
            </div>
        </div>

        <div class="transformation-flow">
            <h2>üìä Migration Impact</h2>
            <div style="text-align: center; padding: 20px;">
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 15px; margin: 20px 0;">
                    <h3>üéâ Transformation Complete</h3>
                    <p style="font-size: 1.2em; margin-top: 15px;">
                        Successfully migrated from imperative bash scripts to declarative Crossplane compositions,
                        achieving fully automated multi-cluster GitOps infrastructure deployment.
                    </p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
