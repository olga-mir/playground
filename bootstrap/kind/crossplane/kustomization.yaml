apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  # Install Crossplane first
  - ../flux/install/
  # Then providers (has dependency on CRDs from install)
  - ../flux/providers/
  # Functions (depends on providers being ready)
  - ../flux/functions/
  # Provider configs (depends on providers)
  - ../flux/providerconfigs/  
  # Compositions (depends on functions and providers)
  - ../flux/compositions/
  # Finally the cluster definitions
  - clusters/